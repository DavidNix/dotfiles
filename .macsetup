echo "Installing Xcode stuff"
xcode-select --install

# Check for Homebrew,
# Install if we don't have it
if test ! $(which brew); then
  echo "Installing homebrew..."
  ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi

# Update homebrew recipes
echo "Updating homebrew..."
brew update

echo "Installing Git..."
brew install git

echo "Git config"

git config --global user.name "David Nix"
git config --global user.email hello@davidnix.io
git config --global push.default current
git config --global fetch.prune true
# https://help.github.com/en/github/using-git/caching-your-github-password-in-git
git config --global credential.helper osxkeychain

echo "Installing brew git utilities..."
brew install git-extras
brew install legit
brew install git-flow

echo "Installing other brew stuff..."
brew install asdf
brew install go
brew install gpg
brew install jq
brew install mackup
brew install rg
brew install tldr
brew install tmux
brew install trash
brew install tree
brew install wget
brew install xsv

echo "Cleaning up brew"
brew cleanup

echo "Installing tmux plugin manager"
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

echo "Installing ZSH"
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
git clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-completions ~/.oh-my-zsh/custom/plugins/zsh-completions 

echo "Complete!"

